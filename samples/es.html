<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title></title>
</head>
<body>
  <pre>
    es6 modules 父子 module 的代码执行顺序、class 内外代码执行顺序。
  </pre>
  <script>
    // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/for-await...of

    // Block–scoped variables
    var es = [];
    for (var i = 0; i < 10; i++) {
      let c = i;
      es[i] = function () {
        console.log("ES" + c);
      };
    }
    es[6]();

    // Destructured assignment
    var options = { repeat: true, rules: { custom: 10 } };
    var { repeat, rules: { custom }} = options;
    console.log('Destructured assignment:', custom);

    function todos(state, action) {
      return [
        ...state.slice(0, action.index),
        Object.assign({}, state[action.index], {
          completed: true
        }),
        ...state.slice(action.index + 1)
      ]
    }
    var newSt = todos([{completed: false}, {completed: false}], {index: 0})
    console.log(newSt);

    // Iterables & for … of loops
    let values = [1, 2, 3];
    for (let i of values) {
      console.log(i);
    }
    
    // Computed property keys
    var pre = 'p_';
    var obj = {
      foo0: function() { return 0; },
      foo1() { return 1; },
      ['foo' + 2]() { return 2; },
    };
    console.log(obj);

  </script>

  <pre style="white-space: pre-wrap;">
  shim、sham 和 polyfill 之间的区别？
  - es5-shim 完美模拟了所有 ES5 中可以被完美模拟的方法。就是说 ES5 中有些方法，是可以在旧 JS 引擎中完美模拟了，那么 shim 就完美模拟了它们。shim 不局限与浏览器环境，只要 JavaScript 引擎支持，代码即可运行。
  - es5-sham 只承诺你用的时候代码不会崩溃，至于对应的方法是不是起作用它就不保证了。如果你要用的方法在 shim 中都包含了，那么就不需要 sham。sham 能不引用就不引用。sham 依赖 shim。
  IE8：只支持 ES3。
  </pre>
  <script>
    // https://github.com/es-shims/es5-shim
    var _toString = Object.prototype.toString;
    var _isArray = Array.isArray;
    var _forEach = Array.prototype.forEach;
    var _trim = String.prototype.trim;
  </script>
</body>
</html>