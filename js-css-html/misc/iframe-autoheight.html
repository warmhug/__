<!DOCTYPE HTML>
<html>
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
</head>
<body>
  <h1>自适应高度</h1>

  <h3>iframe 基本设置：给定高度、内部滚动</h3>
  <style>
    /* .basic {  } */
  </style>
  <iframe 
    class="basic"
    src="http://www.w3school.com.cn/tags/tag_iframe.asp" width="100%" height="400">
    <p>Your browser does not support iframes.</p>
  </iframe>

  <h4>同域下</h4>
  <!-- <iframe id="iFrame2" onload="setIframeHeight(this)" src="iframe-autoheight.html"></iframe> -->
  <script>
  function setIframeHeight(ifr) {
    var iframeWin = ifr.contentWindow || ifr.contentDocument.parentWindow;
    var ifrDoc = iframeWin.document.body || iframeWin.document.documentElement;
    ifr.height = ifrDoc.scrollHeight;
  }
  // setIframeHeight(document.getElementById('iFrame2'))
  </script>
  
  <h4>跨域自适应高度</h4>
  <pre style="white-space: pre-wrap;">
  需求: A 页面使用 iframe 标签跨域包含B页面
  问题: A/B 页面不同域，A 页面无法获取并自适应 B 页面高度

  方案一: 增加 C 页面，A/C 页面同域，A 包含 B，B 包含 C，B 通知 C 高度，C 调整 A 页面 iframe 高度~
  方案二: 通过设置 iframe 页面的 window.name
  </pre>
  <!-- 在新端口起 server 模拟跨域 -->
  <iframe id="ifr" src="http://localhost:3435/iframe-other-domain.html"></iframe>
</body>
</html>
